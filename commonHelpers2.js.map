{"version":3,"file":"commonHelpers2.js","sources":["../src/js/partials/shopping-list.js"],"sourcesContent":["\n\n\n\nconst shoppingList = document.querySelector('.shopping-list');//шукаємо клас shoping-list\nshoppingList.addEventListener('click', onClick);// Додаємо обробник подій до списку\n\n\nfunction onClick(event) {\n  if (event.target.classList.contains(\"delete-book\")) { //шукає кнопку на якій відбулась подія\n    const listItem = event.target.closest(\".shopping-item\"); // далі на кнопці на якій відбулась подія знаходить елемент з класом shopping-item\n    if (listItem) {\n      const itemId = listItem.id; // далі отримуємо ID елемент тієї li \n      shoppingList.removeChild(listItem); // видаляємо елемент із shoppingList\n      removeFromLocalStorage(itemId); // видаляємо збережений елемент з localStorage\n    }\n  }\n}\n\n//! Отримати дані з localStorage\nconst fromlocalstr = JSON.parse(localStorage.getItem('shoppingItems')) || [];\n\n//!функція на видалення по id картки з розмітки і local storage\n  function removeFromLocalStorage(id) {\n  const items = JSON.parse(localStorage.getItem('shoppingItems')) || fromlocalstr;// зчитуємо дані з loc.str під ключем, якщо даних немає то отримуємо пустий масив\n  const updatedItems = items.filter(item => item._id !== id);// шукаєм елементи які потрібно видалити і створюємо новий масив\n  localStorage.setItem('shoppingItems', JSON.stringify(updatedItems)); // оновлюємо дані в localStorage вже з видаленими об'єктами\n}\n\n\n\n\nif (fromlocalstr.length === 0) { // Якщо немає даних в localStorage, створюємо розмітку для пустої сторінки\n  \n  const emptyPageHTML = `\n      <div class=\"shopping-wrap-none\">\n        <div class=\"container-none-card\">\n          <h1 class=\"shopping-title-none\">\n            Shopping <span class=\"shopping-title-span-none\">List</span>\n          </h1>\n          <p class=\"shopping-text-none\">\n            This page is empty, add some books and proceed to order.\n          </p>\n          <img\n            class=\"image-big\"\n            src=\"../img/shopping-list/empty-bin@2x.png\"\n            alt=\"empty list\"\n          />\n          <img\n            class=\"image-small\"\n            src=\"../img/shopping-list/empty-bin@1x.png\"\n            alt=\"empty list\"\n          />\n        </div>\n      </div>\n  `;\n\n  shoppingList.innerHTML = emptyPageHTML;\n} else {\n\n\n//!Створюємо розмітку (картку) якщо у нас є об'єкти в local storage\nconst bookCardsHTML = fromlocalstr.map(book => ` \n  <li class=\"shopping-item\" id =\"${book._id}\">\n    <div class=\"shopping-card\">\n      <div class=\"shopping-image\">\n        <img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"shopping-image\">\n      </div>\n      <div class=\"shopping-info\">\n        <h2 class=\"book-title\">${book.title}</h2>\n        <p class=\"book-category\">${book.publisher}</p>\n        <p class=\"book-desc\">${book.description}</p>\n        <p class=\"book-author\">${book.author}</p>\n      </div>\n      <button class=\"delete-book\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 16 16\"\n          fill=\"none\"\n        >\n          <path\n            d=\"M6 2H10M2 4H14M12.6667 4L12.1991 11.0129C12.129 12.065 12.0939 12.5911 11.8667 12.99C11.6666 13.3412 11.3648 13.6235 11.0011 13.7998C10.588 14 10.0607 14 9.00623 14H6.99377C5.93927 14 5.41202 14 4.99889 13.7998C4.63517 13.6235 4.33339 13.3412 4.13332 12.99C3.90607 12.5911 3.871 12.065 3.80086 11.0129L3.33333 4M6.66667 7V10.3333M9.33333 7V10.3333\"\n            stroke=\"white\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          />\n        </svg>\n      </button>\n      <div class=\"extra-logo\">\n        <img class=\"amazon\" src=\"./img/amazon.svg\" alt=\"amazon\" />\n        <img class=\"apple\" src=\"./img/apple.svg\" alt=\"apple\" />\n      </div>\n    </div>\n  </li>\n`).join('');\n\n\n//! Добавляє створений html батьківський елемент в .shopping-list\nshoppingList.innerHTML = bookCardsHTML;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["shoppingList","onClick","event","listItem","itemId","removeFromLocalStorage","fromlocalstr","id","updatedItems","item","emptyPageHTML","bookCardsHTML","book"],"mappings":"qEAIA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EAC5DA,EAAa,iBAAiB,QAASC,CAAO,EAG9C,SAASA,EAAQC,EAAO,CACtB,GAAIA,EAAM,OAAO,UAAU,SAAS,aAAa,EAAG,CAClD,MAAMC,EAAWD,EAAM,OAAO,QAAQ,gBAAgB,EACtD,GAAIC,EAAU,CACZ,MAAMC,EAASD,EAAS,GACxBH,EAAa,YAAYG,CAAQ,EACjCE,EAAuBD,CAAM,CAC9B,CACF,CACH,CAGA,MAAME,EAAe,KAAK,MAAM,aAAa,QAAQ,eAAe,CAAC,GAAK,GAGxE,SAASD,EAAuBE,EAAI,CAEpC,MAAMC,GADQ,KAAK,MAAM,aAAa,QAAQ,eAAe,CAAC,GAAKF,GACxC,OAAOG,GAAQA,EAAK,MAAQF,CAAE,EACzD,aAAa,QAAQ,gBAAiB,KAAK,UAAUC,CAAY,CAAC,CACpE,CAKA,GAAIF,EAAa,SAAW,EAAG,CAE7B,MAAMI,EAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAuBtBV,EAAa,UAAYU,CAC3B,KAAO,CAIP,MAAMC,EAAgBL,EAAa,IAAIM,GAAQ;AAAA,mCACZA,EAAK;AAAA;AAAA;AAAA,oBAGpBA,EAAK,oBAAoBA,EAAK;AAAA;AAAA;AAAA,iCAGjBA,EAAK;AAAA,mCACHA,EAAK;AAAA,+BACTA,EAAK;AAAA,iCACHA,EAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAwBrC,EAAE,KAAK,EAAE,EAIVZ,EAAa,UAAYW,CACzB"}