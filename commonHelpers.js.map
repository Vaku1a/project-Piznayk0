{"version":3,"file":"commonHelpers.js","sources":["../src/js/partials/booklist.js","../src/img/empty-img@1x.png","../src/img/empty-img@2x.png","../src/js/partials/categories.js","../src/js/partials/book-card-popup.js","../src/js/partials/scroll-up.js"],"sourcesContent":["// import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { getTopBooks, getCategoryId } from \"../api/api\";\nimport { createBooksCaregoryTitle, createBooksInCategoryMarkup } from \"./categories\";\nimport { refs } from \"../refs/refs\";\n\n// Notify.init({\n//     width: '300px',\n//     position: 'center-top',\n//     fontSize: '16px',\n//     fontFamily: 'DM Sans',\n//     showOnlyTheLastOne: true,\n//     clickToClose: true,\n//     timeout: 5000,\n//     failure: {\n//         notiflixIconColor: '#111',\n//         background: '#4f2ee8',\n//         textColor: '#fff',\n//     }\n// });\n\ngetTopBooks()\n    .then(categories => {        \n        if (!categories || categories.length === 0) {\n            refs.booksPart.insertAdjacentHTML('afterbegin',\n                `<div class=\"books-not-found-wrapper\">\n                <p class=\"books-not-found-message\">No books were foundðŸ˜’<br> Please, reload the page or try laterðŸ˜‰</p>\n                <img\n                class=\"books-not-found-img\"\n                srcset=\"../img/empty-bin@1x.png 1x, ../img/empty-bin@2x.png 2x\"\n                src=\"../img/empty-bin@1x.png\"\n                alt=\"Books not found\"\n                height=\"241\"\n                width=\"332\"\n                />\n                </div>`\n            );\n            return;\n        }\n        \n        refs.booksPart.insertAdjacentHTML('beforeend',\n            `<h2 class=\"books-part-title\">Best Sellers\n                <span class=\"books-part-title-span\"> Books</span>\n            </h2>\n            <div class=\"book-categories-container\">\n            ${createBooksCategoriesCardsMarkup(categories)}\n            </div>`\n        );\n    }\n    )\n    .catch((err) => {\n        console.error(err);\n        // Notify.failure('Oops! Something went wrong! Try reloading the page!');\n    });\n\nrefs.booksPart.addEventListener('click', onSeeMoreBtn);\n\nfunction onSeeMoreBtn(evt) {\n    if (evt.target.nodeName !== \"BUTTON\") {\n        return;\n    }\n\n    window.scrollTo(0, 0);\n\n    const btn = evt.target;\n    const categoryName = btn.parentElement.querySelector('.book-category-title').textContent;\n    \n    getCategoryId(categoryName)\n        .then(books => {\n            if (!books || books.length === 0) {\n                refs.booksPart.innerHTML = \n                `${createBooksCaregoryTitle(categoryName)}\n                <div class=\"book-category-wrapper\">\n                <div class=\"books-not-found-wrapper\">\n                <p class=\"books-not-found-message\">No books were found in this categoryðŸ˜’<br> Please, try other categoriesðŸ˜‰</p>\n                <img\n                class=\"books-not-found-img\"\n                srcset=\"./img/empty-bin@1x.png 1x, ./img/empty-bin@2x.png 2x\"\n                src=\"./img/empty-bin@1x.png\"\n                alt=\"Books not found\"\n                height=\"241\"\n                width=\"332\"\n                />\n                </div>                                \n                </div>`\n                return;\n            }\n            refs.booksPart.innerHTML = \n            `${createBooksCaregoryTitle(categoryName)}\n            <div class=\"book-category-wrapper\">\n                <ul class=\"book-cards-list book-cards-list-one-category\">\n                ${createBooksInCategoryMarkup(books)}                  \n                </ul>                             \n            </div>`\n            \n            refs.booksPart.querySelectorAll('.book-cards-list-item').forEach((item) => item.style.display = 'block');            \n        })\n        .catch((err) => {\n            console.error(err);\n            // Notify.failure('Oops! Something went wrong! Try reloading the page!');\n        });  \n}\n\nfunction createBooksCategoriesCardsMarkup(categories) {\n    return categories.map(({ list_name, books }) => {              \n        return `<div class=\"book-category-container\">\n                <h3 class=\"book-category-title\">${list_name}</h3>\n                <ul class=\"book-cards-list\">\n                ${createBooksInCategoryMarkup(books)}                  \n                </ul>\n                <button type=\"button\" class=\"see-more-btn\">See more</button>             \n            </div>`\n    }).join('');\n};\n\nexport { createBooksCategoriesCardsMarkup };","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","// import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { getAllCategories, getTopBooks, getCategoryId } from \"../api/api\";\nimport { createBooksCategoriesCardsMarkup } from \"./booklist\"\nimport { refs } from \"../refs/refs\";\n\nimport booksNotFound_1x from '../../img/empty-img@1x.png';\nimport booksNotFound_2x from '../../img/empty-img@2x.png';\n\n// Notify.init({\n//     width: '300px',\n//     position: 'center-top',\n//     fontSize: '16px',\n//     fontFamily: 'DM Sans',\n//     showOnlyTheLastOne: true,\n//     clickToClose: true,\n//     timeout: 5000,\n//     failure: {\n//         notiflixIconColor: '#111',\n//         background: '#4f2ee8',\n//         textColor: '#fff',\n//     }\n// });\n\ngetAllCategories()\n    .then(categories => {\n        refs.categoriesList.innerHTML = createCategoriesListMarkup(categories);        \n    })\n    .catch((err) => {\n        console.error(err);\n        // Notify.failure('Oops! Something went wrong! Try reloading the page!');\n    });\n\nrefs.categoriesList.addEventListener('click', onLoadCategory);\n\nfunction onLoadCategory(evt) {\n    if (evt.target.nodeName !== \"LI\") {\n        return;\n    }\n    \n    const curr = evt.target;\n\n    if (curr.classList.contains('active')) {\n        console.log('Repeat click on acrive category - No GET request - Just return');\n        return\n    }  \n    \n    window.scrollTo(0, 0);\n    \n    curr.parentElement.querySelector('.categories-list-item.active').classList.remove('active');\n    curr.classList.add('active');\n\n    const categoryName = evt.target.dataset.categoryName;\n        \n    if (categoryName === 'All categories') {        \n        getTopBooks()\n            .then(categories => {\n                //  if (!categories || categories.length === 0) {                      \n                     refs.booksPart.innerHTML =\n                        `<h2 class=\"books-part-title\">Best Sellers\n                        <span class=\"books-part-title-span\"> Books</span>\n                        </h2>\n                        <div class=\"book-categories-container\">\n                        <div class=\"books-not-found-wrapper\">\n                        <p class=\"books-not-found-message\">No books were found in this categoryðŸ˜’<br> Please, try other categoriesðŸ˜‰</p>\n                        <img\n                        class=\"books-not-found-img\"\n                        srcset=\"${booksNotFound_1x} 1x, ${booksNotFound_2x} 2x\"\n                        src=\"${booksNotFound_1x}\"\n                        alt=\"Books not found\"\n                        height=\"241\"\n                        width=\"332\"\n                        />\n                        </div>\n                        </div>`;\n                //      return;\n                // }    \n            \n                // refs.booksPart.innerHTML =\n                //     `<h2 class=\"books-part-title\">Best Sellers\n                //     <span class=\"books-part-title-span\"> Books</span>\n                //     </h2>\n                //     <div class=\"book-categories-container\">\n                //     ${createBooksCategoriesCardsMarkup(categories)}\n                //     </div>`;                \n            }\n            )\n            .catch((err) => {\n                console.error(err);\n                // Notify.failure('Oops! Something went wrong! Try reloading the page!');\n            });\n        return;\n    }     \n           \n    getCategoryId(categoryName)\n        .then(books => {\n            if (!books || books.length === 0) {\n                refs.booksPart.innerHTML = \n                    `${createBooksCaregoryTitle(categoryName)}\n                    <div class=\"book-category-wrapper\">\n                    <div class=\"books-not-found-wrapper\">\n                    <p class=\"books-not-found-message\">No books were found in this categoryðŸ˜’<br> Please, try other categoriesðŸ˜‰</p>\n                    <img\n                    class=\"books-not-found-img\"\n                    srcset=\"./img/empty-bin@1x.png 1x, ./img/empty-bin@2x.png 2x\"\n                    src=\"./img/empty-bin@1x.png\"\n                    alt=\"Books not found\"\n                    height=\"241\"\n                    width=\"332\"\n                    />\n                    </div>                                \n                    </div>`\n                return;\n            }\n            refs.booksPart.innerHTML = \n            `${createBooksCaregoryTitle(categoryName)}\n            <div class=\"book-category-wrapper\">\n                <ul class=\"book-cards-list book-cards-list-one-category\">\n                ${createBooksInCategoryMarkup(books)}                  \n                </ul>                             \n            </div>`\n\n            refs.booksPart.querySelectorAll('.book-cards-list-item').forEach((item) => item.style.display = 'block');            \n        })\n        .catch((err) => {\n            console.error(err);\n            // Notify.failure('Oops! Something went wrong! Try reloading the page!');\n        });          \n};\n\nfunction createCategoriesListMarkup(categories) {\n    const result = categories.map(\n        ({ list_name }) =>\n            `<li class=\"categories-list-item\" data-category-name=\"${list_name}\">${list_name}</li>`\n    ).sort((a,b) => a.localeCompare(b));    \n    result.unshift(`<li class=\"categories-list-item active\" data-category-name=\"All categories\">All categories</li>`);\n    return result.join('');\n};\n\nfunction createBooksCaregoryTitle(categoryName) {\n    const categoryNameArr = categoryName.split(' ');\n    if (categoryNameArr.includes('and')) {\n        const indexOfAnd = categoryNameArr.indexOf('and');\n        const mainCategoryTitlePart = categoryNameArr.slice(0, indexOfAnd + 1).join(' ');\n        const categoryTitleSpan = categoryNameArr.slice(indexOfAnd + 1).join(' ');\n        return `<h2 class=\"books-part-title\">${mainCategoryTitlePart} <span class=\"books-part-title-span\">${categoryTitleSpan}</span></h2>`\n    }\n    if (categoryNameArr.length > 3) {\n        const mainCategoryTitlePart = categoryNameArr.slice(0, categoryNameArr.length / 2).join(' ');\n        const categoryTitleSpan = categoryNameArr.slice((categoryNameArr.length / 2)).join(' ');\n        return `<h2 class=\"books-part-title\">${mainCategoryTitlePart} <span class=\"books-part-title-span\">${categoryTitleSpan}</span></h2>`\n    }\n    const categoryTitleSpan = categoryNameArr.pop();\n    const mainCategoryTitlePart = categoryNameArr.join(' ');\n    return `<h2 class=\"books-part-title\">${mainCategoryTitlePart} <span class=\"books-part-title-span\">${categoryTitleSpan}</span></h2>`\n};\n\nfunction createBooksInCategoryMarkup(books) {\n    return books.map(({ _id, book_image, author, title }) =>\n            `<li class=\"book-cards-list-item\" data-book-id=\"${_id}\">\n            <img\n            class=\"book-card-img\"\n            src=\"${book_image}\"\n            alt=\"${title}\"            \n            loading=\"lazy\"\n            />\n            <div class=\"book-card-hover\">\n                <p>quick view</p>\n            </div>\n            <p class=\"book-card-title\">${title}</p>\n            <p class=\"book-card-author\">${author}</p>\n        </li>`\n        ).join('');\n};\n\nexport { createBooksCaregoryTitle, createBooksInCategoryMarkup };","import { getBooksId } from '../api/api.js';\nimport { refs } from '../refs/refs';\n\nconst STORAGE_KEY = 'bookList';\nlet newBook = {};\n\n// const popupEl = document.querySelector('.popup');\nrefs.booksPart.addEventListener('click', callPopupWindow);\n\nrefs.popupEl.firstElementChild.addEventListener('click', onOff);\nrefs.popupEl.parentNode.addEventListener('click', onOff);\ndocument.addEventListener('keydown', onOff);\nfunction onOff(evt) {\n  if (evt.target === evt.currentTarget || evt.key === 'Escape') {\n    refs.popupEl.parentNode.classList.toggle('is-hidden');\n    refs.body.classList.toggle('popup-modal-open');\n  }\n}\n\n// Ð²Ð¸ÐºÐ»Ð¸Ðº Ð²Ñ–ÐºÐ½Ð°\nfunction callPopupWindow(evt) {\n  if (evt.target === evt.currentTarget) {\n    return;\n  }\n\n  evt.preventDefault();\n\n  refs.popupEl.parentNode.classList.toggle('is-hidden');\n  refs.body.classList.toggle('popup-modal-open');\n  const id =\n    evt.target.closest('LI').dataset.bookId ||\n    evt.target.parentNode.dataset.bookId;\n\n  getBooksId(id).then(data => {\n    newBook = data;\n    checkingBookList(newBook);\n    let markup = createMarkup(newBook);\n    addBookMarkup(markup);\n  });\n}\n\nasync function getDataFromStorage(key) {\n  const response = await localStorage.getItem(key);\n  const data = await JSON.parse(response);\n  return data;\n}\nasync function addDataToStorage(key, value) {\n  try {\n    await localStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function checkingBookList(data) {\n  try {\n    const arr = await getDataFromStorage(STORAGE_KEY)\n      .then(data => {\n        return data ? data : [];\n      })\n      .catch(error => {\n        console.log(error.message);\n      });\n    const status = arr.some(({ _id }) => _id === data._id);\n    if (status) {\n      refs.popupEl.lastElementChild.previousElementSibling.removeEventListener(\n        'click',\n        addBookToStorage\n      );\n      refs.popupEl.lastElementChild.previousElementSibling.addEventListener(\n        'click',\n        removeBookFromStorage\n      );\n      refs.popupEl.lastElementChild.previousElementSibling.textContent =\n        'remove from the shopping list';\n      refs.popupEl.lastElementChild.hidden = false;\n    } else {\n      refs.popupEl.lastElementChild.previousElementSibling.removeEventListener(\n        'click',\n        removeBookFromStorage\n      );\n      refs.popupEl.lastElementChild.previousElementSibling.addEventListener(\n        'click',\n        addBookToStorage\n      );\n      refs.popupEl.lastElementChild.previousElementSibling.textContent =\n        'Add to shopping list';\n      refs.popupEl.lastElementChild.hidden = true;\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n// console.log(refs.popupEl.firstElementChild.nextElementSibling);\n// console.log(refs.popupBookCardEl);\nfunction addBookMarkup(markup) {\n  refs.popupEl.firstElementChild.nextElementSibling.innerHTML = markup;\n}\nfunction createMarkup({\n  book_image,\n  title,\n  author,\n  description,\n  buy_links: [amazon, apple],\n}) {\n  const markup = `<img src=\"${book_image}\" class=\"popup-image\" />\n            <h2 class=\"popup-book-title\">${title}</h2>\n            <p class=\"popup-book-author\">${author}</p>\n            <p class=\"popup-book-description\">${description}</p>\n            <div class=\"popup-links\">\n                <a href=\"${amazon.url}\" target=\"_blank\"><img class=\"popup-link-img\" src=\"./img/modal-shop/amazon@1x.png\"\n                        srcset=\"./img/modal-shop/amazon@1x.png, ./img/modal-shop/amazon@2x.png\"\n                        alt=\"link to amazon\" /></a>\n                <a href=\"${apple.url}\" target=\"_blank\"><img class=\"popup-link-img\"  src=\"./img/modal-shop/apple-books@1x.png\"\n                        srcset=\"./img/modal-shop/apple-books@1x.png, ./img/modal-shop/apple-books@2x.png\"\n                        alt=\"link to apple books\" /></a>\n            </div>\n            `;\n\n  return markup;\n}\nasync function addBookToStorage() {\n  try {\n    const dataFromStorage = await getDataFromStorage(STORAGE_KEY)\n      .then(data => {\n        return data ? data : [];\n      })\n      .catch(error => {\n        console.log(error.message);\n      });\n    dataFromStorage.push(newBook);\n    addDataToStorage(STORAGE_KEY, dataFromStorage);\n    checkingBookList(newBook);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function removeBookFromStorage() {\n  try {\n    const dataFromStorage = await getDataFromStorage(STORAGE_KEY);\n\n    const clearStorage = dataFromStorage.filter(\n      book => book._id !== newBook._id\n    );\n    addDataToStorage(STORAGE_KEY, clearStorage);\n    checkingBookList(newBook);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","window.onscroll = () => {\n    toggleTopButton();\n}\n\n\nfunction toggleTopButton() {\n    if (document.body.scrollTop > 20 ||\n        document.documentElement.scrollTop > 20) {\n        document.getElementById('back-to-up').classList.remove('is-hidden');\n    } else {\n        document.getElementById('back-to-up').classList.add('is-hidden');\n    }\n}\n\n(() => {\n    function scrollToTop() {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n    const toUp = document.querySelector('#back-to-up');\n    toUp.addEventListener('click', scrollToTop);\n    \n})();"],"names":["getTopBooks","categories","refs","createBooksCategoriesCardsMarkup","err","onSeeMoreBtn","evt","categoryName","getCategoryId","books","createBooksCaregoryTitle","createBooksInCategoryMarkup","item","list_name","booksNotFound_1x","booksNotFound_2x","getAllCategories","createCategoriesListMarkup","onLoadCategory","curr","result","a","b","categoryNameArr","indexOfAnd","mainCategoryTitlePart","categoryTitleSpan","_id","book_image","author","title","STORAGE_KEY","newBook","callPopupWindow","onOff","id","getBooksId","data","checkingBookList","markup","createMarkup","addBookMarkup","getDataFromStorage","key","response","addDataToStorage","value","error","addBookToStorage","removeBookFromStorage","description","amazon","apple","dataFromStorage","clearStorage","book","toggleTopButton","scrollToTop"],"mappings":"iHAoBAA,EAAa,EACR,KAAKC,GAAc,CAChB,GAAI,CAACA,GAAcA,EAAW,SAAW,EAAG,CACxCC,EAAK,UAAU,mBAAmB,aAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAWhB,EACY,MACH,CAEDA,EAAK,UAAU,mBAAmB,YAC9B;AAAA;AAAA;AAAA;AAAA,cAIEC,EAAiCF,CAAU;AAAA,mBAEzD,CACK,CACA,EACA,MAAOG,GAAQ,CACZ,QAAQ,MAAMA,CAAG,CAEzB,CAAK,EAELF,EAAK,UAAU,iBAAiB,QAASG,CAAY,EAErD,SAASA,EAAaC,EAAK,CACvB,GAAIA,EAAI,OAAO,WAAa,SACxB,OAGJ,OAAO,SAAS,EAAG,CAAC,EAGpB,MAAMC,EADMD,EAAI,OACS,cAAc,cAAc,sBAAsB,EAAE,YAE7EE,EAAcD,CAAY,EACrB,KAAKE,GAAS,CACX,GAAI,CAACA,GAASA,EAAM,SAAW,EAAG,CAC9BP,EAAK,UAAU,UACf,GAAGQ,EAAyBH,CAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAcxC,MACH,CACDL,EAAK,UAAU,UACf,GAAGQ,EAAyBH,CAAY;AAAA;AAAA;AAAA,kBAGlCI,EAA4BF,CAAK;AAAA;AAAA,oBAIvCP,EAAK,UAAU,iBAAiB,uBAAuB,EAAE,QAASU,GAASA,EAAK,MAAM,QAAU,OAAO,CACnH,CAAS,EACA,MAAOR,GAAQ,CACZ,QAAQ,MAAMA,CAAG,CAE7B,CAAS,CACT,CAEA,SAASD,EAAiCF,EAAY,CAClD,OAAOA,EAAW,IAAI,CAAC,CAAE,UAAAY,EAAW,MAAAJ,CAAK,IAC9B;AAAA,kDACmCI;AAAA;AAAA,kBAEhCF,EAA4BF,CAAK;AAAA;AAAA;AAAA,mBAI9C,EAAE,KAAK,EAAE,CACd,CChHA,MAAeK,EAAA,quFCAAC,EAAA,ikICuBfC,EAAkB,EACb,KAAKf,GAAc,CAChBC,EAAK,eAAe,UAAYe,EAA2BhB,CAAU,CAC7E,CAAK,EACA,MAAOG,GAAQ,CACZ,QAAQ,MAAMA,CAAG,CAEzB,CAAK,EAELF,EAAK,eAAe,iBAAiB,QAASgB,CAAc,EAE5D,SAASA,EAAeZ,EAAK,CACzB,GAAIA,EAAI,OAAO,WAAa,KACxB,OAGJ,MAAMa,EAAOb,EAAI,OAEjB,GAAIa,EAAK,UAAU,SAAS,QAAQ,EAAG,CACnC,QAAQ,IAAI,gEAAgE,EAC5E,MACH,CAED,OAAO,SAAS,EAAG,CAAC,EAEpBA,EAAK,cAAc,cAAc,8BAA8B,EAAE,UAAU,OAAO,QAAQ,EAC1FA,EAAK,UAAU,IAAI,QAAQ,EAE3B,MAAMZ,EAAeD,EAAI,OAAO,QAAQ,aAExC,GAAIC,IAAiB,iBAAkB,CACnCP,EAAa,EACR,KAAKC,GAAc,CAEXC,EAAK,UAAU,UACZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAQUY,SAAwBC;AAAA,+BAC3BD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAiBlB,CACA,EACA,MAAOV,GAAQ,CACZ,QAAQ,MAAMA,CAAG,CAEjC,CAAa,EACL,MACH,CAEDI,EAAcD,CAAY,EACrB,KAAKE,GAAS,CACX,GAAI,CAACA,GAASA,EAAM,SAAW,EAAG,CAC9BP,EAAK,UAAU,UACX,GAAGQ,EAAyBH,CAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAc5C,MACH,CACDL,EAAK,UAAU,UACf,GAAGQ,EAAyBH,CAAY;AAAA;AAAA;AAAA,kBAGlCI,EAA4BF,CAAK;AAAA;AAAA,oBAIvCP,EAAK,UAAU,iBAAiB,uBAAuB,EAAE,QAASU,GAASA,EAAK,MAAM,QAAU,OAAO,CACnH,CAAS,EACA,MAAOR,GAAQ,CACZ,QAAQ,MAAMA,CAAG,CAE7B,CAAS,CACT,CAEA,SAASa,EAA2BhB,EAAY,CAC5C,MAAMmB,EAASnB,EAAW,IACtB,CAAC,CAAE,UAAAY,CAAW,IACV,wDAAwDA,MAAcA,QAClF,EAAM,KAAK,CAACQ,EAAEC,IAAMD,EAAE,cAAcC,CAAC,CAAC,EAClC,OAAAF,EAAO,QAAQ,iGAAiG,EACzGA,EAAO,KAAK,EAAE,CACzB,CAEA,SAASV,EAAyBH,EAAc,CAC5C,MAAMgB,EAAkBhB,EAAa,MAAM,GAAG,EAC9C,GAAIgB,EAAgB,SAAS,KAAK,EAAG,CACjC,MAAMC,EAAaD,EAAgB,QAAQ,KAAK,EAC1CE,EAAwBF,EAAgB,MAAM,EAAGC,EAAa,CAAC,EAAE,KAAK,GAAG,EACzEE,EAAoBH,EAAgB,MAAMC,EAAa,CAAC,EAAE,KAAK,GAAG,EACxE,MAAO,gCAAgCC,yCAA6DC,eACvG,CACD,GAAIH,EAAgB,OAAS,EAAG,CAC5B,MAAME,EAAwBF,EAAgB,MAAM,EAAGA,EAAgB,OAAS,CAAC,EAAE,KAAK,GAAG,EACrFG,EAAoBH,EAAgB,MAAOA,EAAgB,OAAS,CAAG,EAAC,KAAK,GAAG,EACtF,MAAO,gCAAgCE,yCAA6DC,eACvG,CACD,MAAMA,EAAoBH,EAAgB,MAE1C,MAAO,gCADuBA,EAAgB,KAAK,GAAG,yCAC8CG,eACxG,CAEA,SAASf,EAA4BF,EAAO,CACxC,OAAOA,EAAM,IAAI,CAAC,CAAE,IAAAkB,EAAK,WAAAC,EAAY,OAAAC,EAAQ,MAAAC,CAAO,IAC5C,kDAAkDH;AAAA;AAAA;AAAA,mBAG3CC;AAAA,mBACAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMsBA;AAAA,0CACCD;AAAA,cAE1C,EAAU,KAAK,EAAE,CACjB,CCzKA,MAAME,EAAc,WACpB,IAAIC,EAAU,CAAA,EAGd9B,EAAK,UAAU,iBAAiB,QAAS+B,CAAe,EAExD/B,EAAK,QAAQ,kBAAkB,iBAAiB,QAASgC,CAAK,EAC9DhC,EAAK,QAAQ,WAAW,iBAAiB,QAASgC,CAAK,EACvD,SAAS,iBAAiB,UAAWA,CAAK,EAC1C,SAASA,EAAM5B,EAAK,EACdA,EAAI,SAAWA,EAAI,eAAiBA,EAAI,MAAQ,YAClDJ,EAAK,QAAQ,WAAW,UAAU,OAAO,WAAW,EACpDA,EAAK,KAAK,UAAU,OAAO,kBAAkB,EAEjD,CAGA,SAAS+B,EAAgB3B,EAAK,CAC5B,GAAIA,EAAI,SAAWA,EAAI,cACrB,OAGFA,EAAI,eAAc,EAElBJ,EAAK,QAAQ,WAAW,UAAU,OAAO,WAAW,EACpDA,EAAK,KAAK,UAAU,OAAO,kBAAkB,EAC7C,MAAMiC,EACJ7B,EAAI,OAAO,QAAQ,IAAI,EAAE,QAAQ,QACjCA,EAAI,OAAO,WAAW,QAAQ,OAEhC8B,EAAWD,CAAE,EAAE,KAAKE,GAAQ,CAC1BL,EAAUK,EACVC,EAAiBN,CAAO,EACxB,IAAIO,EAASC,EAAaR,CAAO,EACjCS,EAAcF,CAAM,CACxB,CAAG,CACH,CAEA,eAAeG,EAAmBC,EAAK,CACrC,MAAMC,EAAW,MAAM,aAAa,QAAQD,CAAG,EAE/C,OADa,MAAM,KAAK,MAAMC,CAAQ,CAExC,CACA,eAAeC,EAAiBF,EAAKG,EAAO,CAC1C,GAAI,CACF,MAAM,aAAa,QAAQH,EAAK,KAAK,UAAUG,CAAK,CAAC,CACtD,OAAQC,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEA,eAAeT,EAAiBD,EAAM,CACpC,GAAI,EACU,MAAMK,EAAmBX,CAAW,EAC7C,KAAKM,GACGA,GAAc,EACtB,EACA,MAAMU,GAAS,CACd,QAAQ,IAAIA,EAAM,OAAO,CACjC,CAAO,GACgB,KAAK,CAAC,CAAE,IAAApB,CAAG,IAAOA,IAAQU,EAAK,GAAG,GAEnDnC,EAAK,QAAQ,iBAAiB,uBAAuB,oBACnD,QACA8C,CACR,EACM9C,EAAK,QAAQ,iBAAiB,uBAAuB,iBACnD,QACA+C,CACR,EACM/C,EAAK,QAAQ,iBAAiB,uBAAuB,YACnD,gCACFA,EAAK,QAAQ,iBAAiB,OAAS,KAEvCA,EAAK,QAAQ,iBAAiB,uBAAuB,oBACnD,QACA+C,CACR,EACM/C,EAAK,QAAQ,iBAAiB,uBAAuB,iBACnD,QACA8C,CACR,EACM9C,EAAK,QAAQ,iBAAiB,uBAAuB,YACnD,uBACFA,EAAK,QAAQ,iBAAiB,OAAS,GAE1C,OAAQ6C,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAGA,SAASN,EAAcF,EAAQ,CAC7BrC,EAAK,QAAQ,kBAAkB,mBAAmB,UAAYqC,CAChE,CACA,SAASC,EAAa,CACpB,WAAAZ,EACA,MAAAE,EACA,OAAAD,EACA,YAAAqB,EACA,UAAW,CAACC,EAAQC,CAAK,CAC3B,EAAG,CAeD,MAde,aAAaxB;AAAA,2CACaE;AAAA,2CACAD;AAAA,gDACKqB;AAAA;AAAA,2BAErBC,EAAO;AAAA;AAAA;AAAA,2BAGPC,EAAM;AAAA;AAAA;AAAA;AAAA,aAOjC,CACA,eAAeJ,GAAmB,CAChC,GAAI,CACF,MAAMK,EAAkB,MAAMX,EAAmBX,CAAW,EACzD,KAAKM,GACGA,GAAc,EACtB,EACA,MAAMU,GAAS,CACd,QAAQ,IAAIA,EAAM,OAAO,CACjC,CAAO,EACHM,EAAgB,KAAKrB,CAAO,EAC5Ba,EAAiBd,EAAasB,CAAe,EAC7Cf,EAAiBN,CAAO,CACzB,OAAQe,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEA,eAAeE,GAAwB,CACrC,GAAI,CAGF,MAAMK,GAFkB,MAAMZ,EAAmBX,CAAW,GAEvB,OACnCwB,GAAQA,EAAK,MAAQvB,EAAQ,GACnC,EACIa,EAAiBd,EAAauB,CAAY,EAC1ChB,EAAiBN,CAAO,CACzB,OAAQe,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CCtJA,OAAO,SAAW,IAAM,CACpBS,GACJ,EAGA,SAASA,GAAkB,CACnB,SAAS,KAAK,UAAY,IAC1B,SAAS,gBAAgB,UAAY,GACrC,SAAS,eAAe,YAAY,EAAE,UAAU,OAAO,WAAW,EAElE,SAAS,eAAe,YAAY,EAAE,UAAU,IAAI,WAAW,CAEvE,EAEC,IAAM,CACH,SAASC,GAAc,CACnB,OAAO,SAAS,CAAE,IAAK,EAAG,SAAU,QAAQ,CAAE,CACjD,CACY,SAAS,cAAc,aAAa,EAC5C,iBAAiB,QAASA,CAAW,CAE9C,GAAI"}