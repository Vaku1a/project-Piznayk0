{"version":3,"file":"commonHelpers.js","sources":["../src/js/utils/localstorage/localStorageApi.js","../src/js/partials/booklist.js","../src/js/partials/categories.js","../src/js/utils/markup/markup.js","../src/js/partials/book-card-popup.js","../src/js/partials/scroll-up.js","../src/js/partials/auth-firebase.js"],"sourcesContent":["// Отримання ланих з локального сховища за ключем key\nexport async function getDataFromStorage(key) {\n  const response = await localStorage.getItem(key);\n  const data = await JSON.parse(response);\n  return data;\n}\n// Розміщення даних в локальному сховищі ключ key значення value\nexport async function addDataToStorage(key, value) {\n  try {\n    await localStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// Функція додавання книги\nexport async function addBookToStorage(bookId) {\n  try {\n    if (!isBookInLocalsStorage(bookId)) {\n      return console.log('the book is already added');\n    }\n    const book = await getBooksId(value);\n    const serializedState = JSON.stringify(book);\n    localStorage.setItem(STORAGE_KEY, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n}\n\n// Функція видалення\nexport function removeBookFromLocalStorage(key) {\n  try {\n    const serializedState = localStorage.removeItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n}\n","// import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { getTopBooks, getCategoryId } from \"../api/api\";\nimport { createBooksCaregoryTitle, createBooksInCategoryMarkup } from \"./categories\";\nimport { refs } from \"../refs/refs\";\n\nimport booksNotFound_1x from '../../img/shopping-list/empty-bin@1x.png';\nimport booksNotFound_2x from '../../img/shopping-list/empty-bin@2x.png';\n\n// Notify.init({\n//     width: '300px',\n//     position: 'center-center',\n//     fontSize: '16px',\n//     fontFamily: 'DM Sans',\n//     showOnlyTheLastOne: true,\n//     clickToClose: true,\n//     timeout: 5000,\n//     failure: {\n//         notiflixIconColor: '#111',\n//         background: '#4f2ee8',\n//         textColor: '#fff',\n//     }\n// });\n\ngetTopBooks()\n    .then(categories => {        \n        if (categories.length === 0) {\n            refs.booksPart.insertAdjacentHTML('afterbegin',\n                `${booksNotFoundWrapperMarkup}`\n             );\n            return;\n        }\n        \n        refs.booksPart.insertAdjacentHTML('beforeend',\n            `<h2 class=\"books-part-title\">Best Sellers\n                <span class=\"books-part-title-span\"> Books</span>\n            </h2>\n            <div class=\"book-categories-container\">\n            ${createBooksCategoriesCardsMarkup(categories)}\n            </div>`\n        );\n    }\n    )\n    .catch((err) => {\n        console.error(err);\n        // Notify.failure('Oops! Something went wrong! Try reloading the page!');\n    });\n\nrefs.booksPart.addEventListener('click', onSeeMoreBtn);\n\nfunction onSeeMoreBtn(evt) {\n    if (evt.target.nodeName !== \"BUTTON\") {\n        return;\n    }\n\n    window.scrollTo(0, 0);\n\n    const btn = evt.target;\n    const categoryName = btn.parentElement.querySelector('.book-category-title').textContent;\n    const categoriesListItems = [...document.querySelectorAll('.categories-list-item')];\n        \n    categoriesListItems.find(category => {\n        if (category.classList.contains('active')) {\n            category.classList.remove('active');\n        }\n    }\n    );\n\n    categoriesListItems.find(category => {\n        if (category.textContent === categoryName) {\n            category.classList.add('active');\n            console.log(categoriesListItems.find(category => category.textContent === categoryName));\n            // refs.categoriesList.scrollIntoView(categoriesListItems.find(category => category.textContent === categoryName));\n        }\n    }\n    );\n\n    getCategoryId(categoryName)\n        .then(books => {\n            if (books.length === 0) {\n                refs.booksPart.innerHTML = \n                `${createBooksCaregoryTitle(categoryName)}\n                <div class=\"book-category-wrapper\">\n                ${booksNotFoundWrapperMarkup}                                \n                </div>`\n                return;\n            }\n            refs.booksPart.innerHTML = \n            `${createBooksCaregoryTitle(categoryName)}\n            <div class=\"book-category-wrapper\">\n                <ul class=\"book-cards-list book-cards-list-one-category\">\n                ${createBooksInCategoryMarkup(books)}                  \n                </ul>                             \n            </div>`\n            \n            refs.booksPart.querySelectorAll('.book-cards-list-item').forEach((item) => item.style.display = 'block');            \n        })\n        .catch((err) => {\n            console.error(err);\n            // Notify.failure('Oops! Something went wrong! Try reloading the page!');\n        });  \n}\n\nfunction createBooksCategoriesCardsMarkup(categories) {\n    return categories.map(({ list_name, books }) => {              \n        return `<div class=\"book-category-container\">\n                <h3 class=\"book-category-title\">${list_name}</h3>\n                <ul class=\"book-cards-list\">\n                ${createBooksInCategoryMarkup(books)}                  \n                </ul>\n                <button type=\"button\" class=\"see-more-btn\">See more</button>             \n            </div>`\n    }).join('');\n};\n\nconst booksNotFoundWrapperMarkup = `\n<div class=\"books-not-found-wrapper\">\n<p class=\"books-not-found-message\">No books found😒<br> Try other categories😉</p>\n<img\nclass=\"books-not-found-img\"\nsrcset=\"${booksNotFound_1x} 1x, ${booksNotFound_2x} 2x\"\nsrc=\"${booksNotFound_1x}\"\nalt=\"Books not found\"\nheight=\"241\"\nwidth=\"332\"\n/>\n</div>`;\n\nexport { createBooksCategoriesCardsMarkup, booksNotFoundWrapperMarkup };","// import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { getAllCategories, getTopBooks, getCategoryId } from \"../api/api\";\nimport { createBooksCategoriesCardsMarkup, booksNotFoundWrapperMarkup } from \"./booklist\"\nimport { refs } from \"../refs/refs\";\n\nimport booksNotFound_1x from '../../img/shopping-list/empty-bin@1x.png';\nimport booksNotFound_2x from '../../img/shopping-list/empty-bin@2x.png';\n\n// Notify.init({\n//     width: '300px',\n//     position: 'center-center',\n//     fontSize: '16px',\n//     fontFamily: 'DM Sans',\n//     showOnlyTheLastOne: true,\n//     clickToClose: true,\n//     timeout: 5000,\n//     failure: {\n//         notiflixIconColor: '#111',\n//         background: '#4f2ee8',\n//         textColor: '#fff',\n//     }\n// });\n\ngetAllCategories()\n    .then(categories => {\n        refs.categoriesList.innerHTML = createCategoriesListMarkup(categories);        \n    })\n    .catch((err) => {\n        console.error(err);\n        // Notify.failure('Oops! Something went wrong! Try reloading the page!');\n    });\n\nrefs.categoriesList.addEventListener('click', onLoadCategory);\n\nfunction onLoadCategory(evt) {\n    if (evt.target.nodeName !== \"LI\") {\n        return;\n    }\n    \n    const curr = evt.target;\n\n    if (curr.classList.contains('active')) {\n        console.log('Repeat click on acrive category - No GET request - Just return');\n        return\n    }  \n    \n    window.scrollTo(0, 0);\n    \n    curr.parentElement.querySelector('.categories-list-item.active').classList.remove('active');\n    curr.classList.add('active');\n\n    const categoryName = evt.target.dataset.categoryName;\n        \n    if (categoryName === 'All categories') {        \n        getTopBooks()\n            .then(categories => {\n                 if (categories.length === 0) {                      \n                     refs.booksPart.innerHTML =\n                        `<h2 class=\"books-part-title\">Best Sellers\n                        <span class=\"books-part-title-span\"> Books</span>\n                        </h2>\n                        <div class=\"book-categories-container\">\n                        ${booksNotFoundWrapperMarkup}\n                        </div>`;\n                     return;\n                }    \n            \n                refs.booksPart.innerHTML =\n                    `<h2 class=\"books-part-title\">Best Sellers\n                    <span class=\"books-part-title-span\"> Books</span>\n                    </h2>\n                    <div class=\"book-categories-container\">\n                    ${createBooksCategoriesCardsMarkup(categories)}\n                    </div>`;                \n            }\n            )\n            .catch((err) => {\n                console.error(err);\n                // Notify.failure('Oops! Something went wrong! Try reloading the page!');\n            });\n        return;\n    }     \n           \n    getCategoryId(categoryName)\n        .then(books => {\n            if (books.length === 0) {\n                refs.booksPart.innerHTML = \n                    `${createBooksCaregoryTitle(categoryName)}\n                    <div class=\"book-category-wrapper\">\n                    ${booksNotFoundWrapperMarkup}                                \n                    </div>`\n                return;\n            }\n            refs.booksPart.innerHTML = \n            `${createBooksCaregoryTitle(categoryName)}\n            <div class=\"book-category-wrapper\">\n                <ul class=\"book-cards-list book-cards-list-one-category\">\n                ${createBooksInCategoryMarkup(books)}                  \n                </ul>                             \n            </div>`\n\n            refs.booksPart.querySelectorAll('.book-cards-list-item').forEach((item) => item.style.display = 'block');            \n        })\n        .catch((err) => {\n            console.error(err);\n            // Notify.failure('Oops! Something went wrong! Try reloading the page!');\n        });          \n};\n\nfunction createCategoriesListMarkup(categories) {\n    const result = categories.map(\n        ({ list_name }) =>\n            `<li class=\"categories-list-item\" data-category-name=\"${list_name}\">${list_name}</li>`\n    ).sort((a,b) => a.localeCompare(b));    \n    result.unshift(`<li class=\"categories-list-item active\" data-category-name=\"All categories\">All categories</li>`);\n    return result.join('');\n};\n\nfunction createBooksCaregoryTitle(categoryName) {\n    const categoryNameArr = categoryName.split(' ');\n    if (categoryNameArr.includes('and')) {\n        const indexOfAnd = categoryNameArr.indexOf('and');\n        const mainCategoryTitlePart = categoryNameArr.slice(0, indexOfAnd + 1).join(' ');\n        const categoryTitleSpan = categoryNameArr.slice(indexOfAnd + 1).join(' ');\n        return `<h2 class=\"books-part-title\">${mainCategoryTitlePart} <span class=\"books-part-title-span\">${categoryTitleSpan}</span></h2>`\n    }\n    if (categoryNameArr.length > 3) {\n        const mainCategoryTitlePart = categoryNameArr.slice(0, categoryNameArr.length / 2).join(' ');\n        const categoryTitleSpan = categoryNameArr.slice((categoryNameArr.length / 2)).join(' ');\n        return `<h2 class=\"books-part-title\">${mainCategoryTitlePart} <span class=\"books-part-title-span\">${categoryTitleSpan}</span></h2>`\n    }\n    const categoryTitleSpan = categoryNameArr.pop();\n    const mainCategoryTitlePart = categoryNameArr.join(' ');\n    return `<h2 class=\"books-part-title\">${mainCategoryTitlePart} <span class=\"books-part-title-span\">${categoryTitleSpan}</span></h2>`\n};\n\nfunction createBooksInCategoryMarkup(books) {\n    return books.map(({ _id, book_image, author, title }) =>\n            `<li class=\"book-cards-list-item\" data-book-id=\"${_id}\">\n            <img\n            class=\"book-card-img\"\n            src=\"${book_image}\"\n            alt=\"${title}\"            \n            loading=\"lazy\"\n            />\n            <div class=\"book-card-hover\">\n                <p>quick view</p>\n            </div>\n            <p class=\"book-card-title\">${title}</p>\n            <p class=\"book-card-author\">${author}</p>\n        </li>`\n        ).join('');\n};\n\nexport { createBooksCaregoryTitle, createBooksInCategoryMarkup };","// popup markup\n\nexport function createMarkupForPopup({\n  book_image,\n  title,\n  author,\n  description,\n  buy_links: [amazon, apple],\n}) {\n  const markup = `<img src=\"${book_image}\" class=\"popup-image\" />\n            <div class =\"info-book\">\n            <h2 class=\"popup-book-title\">${title}</h2>\n            <p class=\"popup-book-author\">${author}</p>\n            <p class=\"popup-book-description\">${description}</p>\n              <div class=\"popup-links\">\n                <a href=\"${amazon.url}\" target=\"_blank\">\n                  <img class=\"popup-link-img\" src=\"./img/modal-shop/amazon.png\" alt=\"link to amazon\" />\n                </a>\n                <a href=\"${apple}\" target=\"_blank\">\n                  <img class=\"popup-link-img\" src=\"./img/modal-shop/apple-books.png\" alt=\"link to apple books\" />\n                </a>\n              </div>\n            </div>\n            `;\n\n  return markup;\n}\n","import { getBooksId } from '../api/api.js';\nimport {\n  getDataFromStorage,\n  addDataToStorage,\n} from '../utils/localstorage/localStorageApi.js';\nimport { createMarkupForPopup } from '../utils/markup/markup.js';\nimport { refs } from '../refs/refs';\n\n// назва ключа для localStorage та змінна що зберігає обєкт поточної книги\nconst STORAGE_KEY = 'bookList';\n// змінна що приймає обєкти поточної книги\nlet newBook = {};\n// змінна, що містить посилання на кнопку додати(видалити) книгу\nconst btnAddRemove = refs.popupEl.lastElementChild.previousElementSibling;\n\n// слухач для виклику модального вікна\nrefs.booksPart.addEventListener('click', callPopupWindow);\n\n// слухачі для виклику функції, що закриває модальне вікно\n// слухач на кнопку закриття\nrefs.popupEl.firstElementChild.addEventListener('click', OffFunction);\n// слухач на бекдроп\nrefs.popupEl.parentNode.addEventListener('click', OffFunction);\n// Слухач для кнопки ESC\ndocument.addEventListener('keydown', OffFunction);\n\n// Функція закриття модального вікна для бекдропу та кнопки ESC\nfunction OffFunction(evt) {\n  if (\n    //Перевірка того подія викликана саме на бекдропі\n    evt.target === evt.currentTarget ||\n    //Перевірка того, що натиснута саме клавіша ESC\n    evt.key === 'Escape' ||\n    //Перевірка того, що клік відбувся або по кнопці закриття, або по елементу всередені\n    evt.target.closest('.popup-btn-close')\n  ) {\n    // Додавання до бекдропу стилю \"is-hidden\"\n    refs.popupEl.parentNode.classList.add('is-hidden');\n    // видалення з боді стилю для заморозки скролу на фоні модального вікна\n    refs.body.classList.remove('popup-modal-open');\n    // очистка розмітки картки з книгою, щоб попередньо відкрита книга не зявлялася на мить перед новою\n    refs.popupEl.firstElementChild.nextElementSibling.innerHTML = '';\n  }\n}\n// Функція виклику модального вікна\nfunction callPopupWindow(evt) {\n  // перевічка того чи клік справді ввідбувся по елементу li\n  if (!evt.target.closest('.book-cards-list-item')) {\n    return;\n  }\n  // Робить модальне вікно не прихованим\n  refs.popupEl.parentNode.classList.toggle('is-hidden');\n  // заморожує скрол на бекдроп\n  refs.body.classList.toggle('popup-modal-open');\n  // отримує id книги\n  const id = evt.target.closest('LI').dataset.bookId;\n  // Виклик функції, що робить запит на бекенд\n  getBooksId(id).then(data => {\n    newBook = data;\n    // Виклик функції перевірки наявності даної книги в локальному сховищі\n    checkingBookList(newBook);\n    // створення розмітки\n    let markup = createMarkupForPopup(newBook);\n    // Додавання розмітки до ДОМу\n    refs.popupEl.firstElementChild.nextElementSibling.innerHTML = markup;\n  });\n}\n\n// Функція перевірки наявності обєкта книги в локальному сховищі\nasync function checkingBookList(data) {\n  try {\n    // отримання масиву обєктів книг, що вже додані до сховища\n    const arr = await getDataFromStorage(STORAGE_KEY)\n      .then(data => {\n        return data ? data : [];\n      })\n      .catch(error => {\n        console.log(error.message);\n      });\n    // перевірка методом some чи є серед масиву обєктів книг, обєкт з таким же id як id поточної книги\n    const status = arr.some(({ _id }) => _id === data._id);\n    if (status) {\n      // в разі підтвердження: видаляється слухач з функцією дадавання книги\n      btnAddRemove.removeEventListener('click', addBookToStorage);\n      // додається слухач з функцією видалення книги\n      btnAddRemove.addEventListener('click', removeBookFromStorage);\n      // змінюється назва кнопки на кнопку видалення\n      btnAddRemove.textContent = 'remove from the shopping list';\n      // Показується повідомлення про наявність книги в списку доданих\n      refs.popupEl.lastElementChild.hidden = false;\n    } else {\n      // в разі підтвердження: видаляється слухач з функцією видалення книги\n      btnAddRemove.removeEventListener('click', removeBookFromStorage);\n      // додається слухач з функцією додавання книги\n      btnAddRemove.addEventListener('click', addBookToStorage);\n      // змінюється назва кнопки на кнопку додавання\n      btnAddRemove.textContent = 'Add to shopping list';\n      // Приховується повідомлення про наявність книги в списку доданих\n      refs.popupEl.lastElementChild.hidden = true;\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// Функція додавання обєкта книги до локального сховища\nasync function addBookToStorage() {\n  try {\n    // отримання масиву обєктів книг, що вже зберігається в локальному сховищі\n    const dataFromStorage = await getDataFromStorage(STORAGE_KEY)\n      .then(data => {\n        return data ? data : [];\n      })\n      .catch(error => {\n        console.log(error.message);\n      });\n    // додавання до масиву книг у сховищі, ще одного обєкту з новою книгою\n    dataFromStorage.push(newBook);\n    // поміщаємо новий маисв, що містить додану книгу в локальне сховище на місце старого масиву\n    addDataToStorage(STORAGE_KEY, dataFromStorage);\n    // запускаємо функцію перевіри,\n    //яка змінить картку поточної книги,\n    //на картку книги, яка вже є в списку доданих книг\n    checkingBookList(newBook);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n// Функція видалення обєкта книги з локального сховища\nasync function removeBookFromStorage() {\n  try {\n    // отримання масиву обєктів книг, що вже зберігається в локальному сховищі\n    const dataFromStorage = await getDataFromStorage(STORAGE_KEY);\n    // створення нового масиву в якому не буде обєкта поточної книги\n    const clearStorage = dataFromStorage.filter(\n      book => book._id !== newBook._id\n    );\n    // поміщаємо новий масив, який вже не містить поточної книги в схровище замість старого\n    addDataToStorage(STORAGE_KEY, clearStorage);\n    // запускаємо функцію перевіри,\n    //яка змінить картку поточної книги,\n    //на картку книги, якої ще немає в списку доданих книг\n    checkingBookList(newBook);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","window.onscroll = () => {\n    toggleTopButton();\n}\n\n\nfunction toggleTopButton() {\n    if (document.body.scrollTop > 20 ||\n        document.documentElement.scrollTop > 20) {\n        document.getElementById('back-to-up').classList.remove('is-hidden');\n    } else {\n        document.getElementById('back-to-up').classList.add('is-hidden');\n    }\n}\n\n(() => {\n    function scrollToTop() {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n    const toUp = document.querySelector('#back-to-up');\n    toUp.addEventListener('click', scrollToTop);\n    \n})();","// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app';\nimport { getAnalytics } from 'firebase/analytics';\nimport { getAuth, createUserWithEmailAndPassword } from 'firebase/auth';\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: 'AIzaSyAgxt77z4guvGeb-hLfEEShLOOJCexE6KA',\n  authDomain: 'project-piznayk0-54a5b.firebaseapp.com',\n  projectId: 'project-piznayk0-54a5b',\n  storageBucket: 'project-piznayk0-54a5b.appspot.com',\n  messagingSenderId: '414681312063',\n  appId: '1:414681312063:web:4c2a191ae3a1338ea9818a',\n  measurementId: 'G-SN3VTV9KJG',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst analytics = getAnalytics(app);\nconsole.log(app);\n\nconst email = 'daria@email.com';\nconst password = '12344321123';\n\nconst auth = getAuth(app);\ncreateUserWithEmailAndPassword(auth, email, password)\n  .then(userCredential => {\n    // Signed up\n    const user = userCredential.user;\n    // ...\n    console.log(user);\n  })\n  .catch(error => {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.log(error);\n    // ..\n  });\n"],"names":["getDataFromStorage","key","response","addDataToStorage","value","error","getTopBooks","categories","refs","booksNotFoundWrapperMarkup","createBooksCategoriesCardsMarkup","err","onSeeMoreBtn","evt","categoryName","categoriesListItems","category","getCategoryId","books","createBooksCaregoryTitle","createBooksInCategoryMarkup","item","list_name","booksNotFound_1x","booksNotFound_2x","getAllCategories","createCategoriesListMarkup","onLoadCategory","curr","result","a","b","categoryNameArr","indexOfAnd","mainCategoryTitlePart","categoryTitleSpan","_id","book_image","author","title","createMarkupForPopup","description","amazon","apple","STORAGE_KEY","newBook","btnAddRemove","callPopupWindow","OffFunction","id","getBooksId","data","checkingBookList","markup","addBookToStorage","removeBookFromStorage","dataFromStorage","clearStorage","book","toggleTopButton","scrollToTop","firebaseConfig","app","initializeApp","getAnalytics","email","password","auth","getAuth","createUserWithEmailAndPassword","userCredential","user"],"mappings":"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"}